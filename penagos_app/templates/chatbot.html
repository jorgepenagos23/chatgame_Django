{% load static %}
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>GAMECHAT</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f1f1f1;
      padding: 20px;
    }

    .chat-container {
      background-color: #fff;
      border-radius: 4px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
      max-width: 900px;
      margin: 0 auto;
      padding: 20px;
    }

    .chat-message {
      margin-bottom: 10px;
    }

    .user-message {
      background-color: #dcf8c6;
      padding: 10px;
      border-radius: 4px;
    }

    .input-container {
      margin-top: 20px;
    }

    .input-container input[type="text"] {
      width: 100%;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }

    .input-container button {
      background-color: #4CAF50;
      color: #fff;
      padding: 10px 20px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    .input-container button:hover {
      background-color: #45a049;
    }

    .marquee {
      white-space: nowrap;
      overflow: hidden;
    }

    .marquee img {
      display: inline-block;
      margin-right: 20px; /* Espacio entre imágenes */
      animation: marquee 10s linear infinite; /* Velocidad y duración de la animación */
    }

    @keyframes marquee {
      0% {
        transform: translateX(0);
      }
      100% {
        transform: translateX(-100%); /* Cambiar a '100%' si quieres que las imágenes se desplacen hacia la derecha */
      }
    }

    .bot-message {
      background-color: #75a8ffc2;
      padding: 10px;
      border-radius: 4px;
    }

  </style>
</head>

<body>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="#">
      <img src="{% static '/images/cortana.png' %}" width="30" height="30" class="d-inline-block align-top" alt="Logo">
      CORTANA CHAT
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item active">
          <a class="nav-link" href="#">Inicio</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Sobre nosotros</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Comprar Juegos</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Cerrar Sesión</a>
        </li>
      </ul>
      <!-- Aquí puedes agregar más elementos de menú, como botones de inicio de sesión, etc. -->
    </div>
  </nav>

  <div class="input-container">
    <div class="marquee">
      <img src="{% static '/images/imagen1.jpg' %}" alt="Descripción de la imagen">
      <img src="{% static '/images/imagen2.jpg' %}" alt="Descripción de la imagen">
      <img src="{% static '/images/imagen3.jpg' %}" alt="Descripción de la imagen">
      <img src="{% static '/images/imagen4.jpg' %}" alt="Descripción de la imagen">
      <br><br><br>
    </div>
    <div class="container">
      <br><br>

      <!-- Agrega más mensajes del chatbot y del usuario según sea necesario -->
    </div>
    <div class="chat-container">
      <div class="chatbox" id="chatbox">
        <div class="chat-message bot-message">¡Hola! Soy un Cortana. ¿En qué puedo ayudarte?</div>

        {% for palabra in palabras %}
        <div class="message user-message">
          <strong>Tú:</strong> {{ palabra.palabra }}
        </div>
        <div class="message bot-message">
          <strong>Chatbot:</strong> {{ palabra.respuesta }}
        </div>
        {% endfor %}

        {% if respuesta %}
        <div class="message user-message">
          <strong>Tú:</strong> {{ user_input }}
        </div>
        <div class="message bot-message">
          <strong>Chatbot:</strong>
          <span id="respuesta">{{ respuesta }}</span>
        </div>
        {% endif %}
      </div>
    </div>

    <form action="{% url 'chatbot_learn' %}" method="POST" class="input-container">
      <br>
      {% csrf_token %}

      <div class="input-group">
        <input type="text" name="user_input" class="form-control" placeholder="Escribe un mensaje" required>

        <div class="container">
          <br>
          <div class="card-title">
            <div class="col text-center">
              <button type="submit" class="btn btn-primary">
                <i class="fas fa-paper-plane"></i> Enviar
              </button>
            </div>
          </div>
        </div>

      </div>
    </form>
  </div>

  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
  <script>
    function sendMessage(event) {
      event.preventDefault();  // Evitar que se envíe el formulario y la página se recargue
      // Aquí puedes agregar tu lógica para procesar el mensaje antes de enviarlo
      // Por ejemplo, puedes utilizar JavaScript para interactuar con el chatbot o enviar una solicitud al backend

      // Después de procesar el mensaje, puedes hacer lo que necesites, como actualizar la interfaz o mostrar la respuesta del chatbot
    }

    // Obtener el elemento del chatbox
    const chatbox = document.getElementById('chatbox');

    // Hacer que el chat se desplace automáticamente hacia abajo
    chatbox.scrollTop = chatbox.scrollHeight;

    // Limpiar el chat al cargar la página
      // Obtener el elemento del chatbox
      const chatbox = document.getElementById('chatbox');

      // Eliminar todos los mensajes del chat
      chatbox.innerHTML = '';
    });
  </script>
</body>

</html>


